# Сбои и отказоустойчивость ОС. Причины появления отказов в ОС и способы борьбы с ними.. 

# Отказы (faults) и отказоустойчивость в ОС

## 1. Причины появления отказов

1. **Аппаратные сбои**  
   - Выход из строя диска, контроллера, процессора, памяти.  
   - Может проявляться как постоянная поломка (диск сгорел) или временные сбои (чтение сбойного сектора).
2. **Ошибки оператора (человеческий фактор)**  
   - Неправильная конфигурация, удаление не тех файлов, неуместные команды.  
3. **Физические помехи окружения**  
   - Перепады питания, радиопомехи, перегрев, стихийные бедствия.
4. **Ошибка проектирования/программирования**  
   - Баги в коде ядра, драйверов, алгоритмах структуры данных.  
   - Могут вести к краху (panic/BSOD) или к повреждению данных.
5. **Постоянные, временные, периодические отказы**  
   - Постоянный (hardware умер),  
   - Временный (неустойчивая цепь питания),  
   - Периодический (например, глючный драйвер проявляется при определённом событии).

---

## 2. Отказоустойчивость (fault tolerance)

**Отказоустойчивость** — способность системы **продолжать работу** даже при возникновении аппаратных или программных ошибок.

### Основные методы

1. **Избыточность аппаратуры**  
   - Двойное/тройное резервирование узлов (питание, диски, контроллеры, и т.д.).  
   - Если один элемент выходит из строя, другой берёт на себя его задачи.
2. **«Горячая» замена (hot-swap)**  
   - Аппаратные компоненты (диски, модули памяти, контроллеры) могут меняться без выключения системы.
3. **Программная поддержка»**  
   - ОС должна уметь «выводить» отказавший компонент из эксплуатации, перераспределять нагрузку.  
   - Перезапуск сервисов и процессов, мониторинг состояний.
4. **RAID (Redundant Array of Inexpensive Disks)**  
   - Использование зеркалирования или паритетных блоков для сохранности данных при сбое одного/нескольких дисков.
5. **Кластеризация**  
   - Группа серверов (кластер), где при падении одного, другая машина берёт его задачи.

---

## 3. Стратегии борьбы с ошибками

1. **Предотвращение** (Fault prevention)  
   - Качественное тестирование и верификация кода, надёжная аппаратная конструкция.
2. **Обнаружение** (Fault detection)  
   - Аппаратные сигналы (ECC ошибки памяти), софт (мониторинг, логи) — система ловит, что что-то сломано.
3. **Изоляция** (Isolation)  
   - Ошибка в одном компоненте не должна «растекаться» на остальные (sandbox, изоляция процессов, микроядро).
4. **Восстановление** (Recovery)  
   - Перезапуск сервисов, переключение на запасной узел (failover), восстановление данных из зеркала RAID.
5. **Маскировка** (Fault masking)  
   - Например, RAID 1 зеркалирование: сбой одного диска не виден для приложения, т.к. оно продолжает чтение с зеркала.

---
