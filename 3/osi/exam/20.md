# Общая архитектура Windows. Windows API

## 1. Общая структура
- **User Mode** (пользовательский режим)
  - **Applications**: программы конечных пользователей (Task Manager, Explorer, Office и пр.).  
  - **Services**: процессы, работающие в фоне
  - **System Processes**: обеспечивают базовую инфраструктуру и авторизацию.
  - **Environment Subsystems**: Windows Subsystem, POSIX Subsystem 
  - **NTDLL.DLL**: ключевая библиотека, через которую приложения вызывают системные сервисы.

- **Kernel Mode** (режим ядра)
  - **Kernel** — низкоуровневая часть (управление потоками, планирование, синхронизация).
  - **Executive** подсистемы:
    - **Object Manager**: единая модель объектов (файлы, процессы, потоки, синхрообъекты).
    - **I/O Manager**: абстрагирует операции ввода-вывода (файловые системы, драйверы устройств).
    - **Memory Manager**: виртуальная память, страничная подкачка, кэширование.
    - **Security Reference Monitor**: проверяет права доступа.
    - **Plug and Play Manager**, **Power Manager**: поддержка динамического оборудования и энергосбережения.
  - **Device & File System Drivers**: драйверы для дисков, сетевых карт, USB, и т. д.
  - **Hardware Abstraction Layer (HAL)**: изолирует особенности материнской платы, чипсета, процессора.

## 2. Windows API

- **WinAPI** (Win32API) — классические системные вызовы для взаимодействия с ОС:
  - Управление окнами (CreateWindow, ShowWindow).
  - Работа с файлами, реестром, процессами, потоками.
  - Сетевая подсистема (sockets/WinSock).
  - Графическая подсистема (GDI).
- **WinRT** (Windows Runtime) — более современный API для универсальных приложений
- **.NET (CLR)** и **Managed code**:
  - Язык C#
  - Доступ к системным функциям через обёртки .NET

---
