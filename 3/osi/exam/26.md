# Управляющий блок процесса (PCB), состав PCB.

## Управляющий блок процесса (PCB)

**PCB (Process Control Block)** — это основная системная структура, в которой операционная система хранит всю необходимую информацию о процессе. Каждый процесс имеет свой PCB, и в нем зафиксированы:

1. **Идентификация процесса**  
   - **ID процесса (PID)** — уникальный идентификатор.  
   - **ID родителя** (PPID) — указывает, какой процесс создал данный.  
   - **ID пользователя (UID)** — владелец процесса.

2. **Информация о регистрах**  
   - **Регистры пользователя** (User registers) — локальные регистры, в которых хранится текущее состояние вычислений.  
   - **Управляющие регистры** (Program Counter, Status Register) — счётчик команд (PC), регистр состояния (FLAGS), указатели на стеки и др.  
   - Эти данные сохраняются в PCB при переключениях контекста (context switch), чтобы после возобновления выполнения восстановить состояние процесса.

3. **Управляющая информация процесса**  
   - **Состояние** (например, Running, Ready, Blocked).  
   - **Приоритет** — используется планировщиком для выбора очередности выполнения.  
   - **Привилегии** — уровень доступа или категории пользователя/группы.  
   - **Открытые файлы** — таблица открытых дескрипторов (file descriptors).  
   - **Память** — информация о виртуальной памяти (таблицы страниц, базовые и ограничительные регистры).  
   - **Сигналы и ресурсы** — перечень сигналов, ожидание процессов, семафоры и т.д.  
   - **События ожидания** — если процесс заблокирован, указывается, какого ресурса он ждёт (ввода-вывода, сигнала и т.д.).

---

### Основные функции PCB
1. **Сохранение контекста**  
   - При прерывании или переключении контекста ОС сохраняет регистры процесса в PCB, чтобы потом восстановить их и возобновить выполнение с той же точки.
2. **Управление ресурсами**  
   - Через PCB ОС может отслеживать, какие ресурсы (файлы, память, устройства) принадлежат процессу.  
   - При завершении процесса все ресурсы освобождаются.
3. **Планирование (Scheduling)**  
   - Планировщик ориентируется на приоритет, состояние и другую информацию из PCB, чтобы определить порядок выполнения процессов.
