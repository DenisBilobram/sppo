# Стратегии замещения страниц ОС. Часовой алгоритм. Управление резидентной частью процесса.

```
Когда в памяти заканчиваются свободные фреймы, ОС должна вытеснить одну или сразу несколько из уже загруженных страниц, чтобы освободить место для новых.
```

1. Оптимальная стратегия
    * Выгружаем страницу, к которой следующее обращение произойдет позднее всего. Проблема в том что нужно знать будущее, что на практике невозможно.

2. FIFO
    * Выгружаем страницу которая дольше всего находится в памяти. Крайне проста в реализации (через очередь).

3. LRU
    * Выгружаем страницу, которую дольше всего не запрашивали. Обычно приближается к оптимальному алгоритму.

4. Clock (second chance)
    * У нас есть кольцевой список кадров и указатель как стрелка часов. Каждый кадр имеет бит R, при вытеснении ОС смотрит на кадр на который указывает стрелка часов, если R = 0, то страница выгружается, если R = 1, то R устанавливается в 0 и стрелка двигается на следующий фрейм пока не дойдет до фрейма с R = 0.

5. Модифицированный Clock
    * Есть front hand которая проходит по фреймам и сбрасывает бит модификации, если страница была изменена устанавливает в 1. И есть back hand которая остает от front hand и проверяет кадры, если к моменту проверки бит модификации все ещё сброшен, вытесняет страницу.

## Управление резидентной частью процесса

1. Размер резидентного набора
    * Сколько фреймов одновременно выделяется процессу. 
2. Область видимости
    * Локальная - страница замещается у процесса вызвавшего page-fault
    * Глобальная - сканируеются страницы всех процессов, кроме locked и сильно shared