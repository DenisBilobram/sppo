# С решётки начинаются комментарии

# Файл это набор правил
# формат каждого правила: 
# имя_файла_для_сборки: зависимость1 зависимость2 ...
# <обязательно символ tab> команда1
# <обязательно символ tab> команда2
#                                              ...
#                                              
# имя файла для сборки также называется "цель", target

OBJS = $(patsubst %.asm,%.o,$(wildcard *.asm))

%.o: %.asm
	nasm -f elf64 -o $@ $<

all: $(OBJS)

clean:
	rm -f $(OBJS)

program: $(OBJS)
	ld -o program $^